function checkPostCode(r){var s="[abcdefghijklmnoprstuwyz]",e="[abcdefghklmnopqrstuvwxy]",o="[abcdefghjkpmnrstuvwxy]",t="[abehmnprvwxy]",a="[abdefghjlnpqrstuwxyz]",i="[abdefghjlnpqrst]",n="[abdefghjlnpqrstuwzyz]",l=new Array;l.push(new RegExp("^(bf1)(\\s*)([0-6]{1}"+i+"{1}"+n+"{1})$","i")),l.push(new RegExp("^("+s+"{1}"+e+"?[0-9]{1,2})(\\s*)([0-9]{1}"+a+"{2})$","i")),l.push(new RegExp("^("+s+"{1}[0-9]{1}"+o+"{1})(\\s*)([0-9]{1}"+a+"{2})$","i")),l.push(new RegExp("^("+s+"{1}"+e+"{1}?[0-9]{1}"+t+"{1})(\\s*)([0-9]{1}"+a+"{2})$","i")),l.push(/^(GIR)(\s*)(0AA)$/i),l.push(/^(bfpo)(\s*)([0-9]{1,4})$/i),l.push(/^(bfpo)(\s*)(c\/o\s*[0-9]{1,3})$/i),l.push(/^([A-Z]{4})(\s*)(1ZZ)$/i),l.push(/^(ai-2640)$/i);for(var h=r,d=!1,m=0;m<l.length;m++)if(l[m].test(h)){l[m].exec(h),h=RegExp.$1.toUpperCase()+" "+RegExp.$3.toUpperCase(),h=h.replace(/C\/O\s*/,"c/o "),"AI-2640"==r.toUpperCase()&&(h="AI-2640"),d=!0;break}return d?h:!1}!function(r){"use strict";r.isValid=function(s,e){var t,o={username:{minLength:6,maxLength:12,showLengthError:!0,lengthErrorMessage:"Username must be be at least 6 characters and no more than 12 characters."},password:{minLength:6,maxLength:20,numbers:!0,letters:!0,showLengthError:!0,lengthErrorMessage:"Password must be at least 6 characters and no more than 20 characters.",showMatchError:!0,matchErrorMessage:"Password must contain letters and numbers."},email:{domain:"",showInvalidError:!0,invalidErrorMessage:"Email is an invalid email address.",showDomainError:!1,domainErrorMessage:"Email domain entered is invalid, only @xxxx.xxx is accepted."},letters:{showMatchError:!0,matchErrorMessage:"Field is letters only."},numbers:{showMatchError:!0,matchErrorMessage:"Field is numbers only."},dateofbirth:{showInvalidError:!0,invalidErrorMessage:"Please enter a valid Date.",showFormatError:!0,formatErrorMessage:"Please enter Date format as DD/MM/YYYY as specified in the placeholder."},postcode:{showInvalidError:!0,invalidErrorMessage:"Not a valid Post Code."},mobile:{showInvalidError:!0,numberLength:11,invalidErrorMessage:"Invalid mobile number."},turnOffErrors:!1,onFormValidated:function(){},onFormInValidated:function(){}};t=this,this.options,this.init=function(){var a=this;return this.elem=s,this.$elem=r(s),this.isFormValid=!1,this.isValid=!1,this.formID="#"+this.$elem.attr("id"),this.formIDStr=this.$elem.attr("id"),this.options=r.extend(!0,o,e),n(this.options.turnOffErrors),this.formArray=r(this.formID+' :input[type="text"],'+this.formID+' :input[type="password"],'+this.formID+' :input[type="tel"],'+this.formID+" textarea,"+this.formID+" select"),this.formArray.each(function(r,s){t.createErrorMessage(a,s)}),this},this.isFormValidated=function(){return r(this.formID+" .invalid").length?!1:!0},this.isValidField=function(s){if(s.disabled||"notrequired"===r(s).attr("data-field-info"))this.isValid=!0;else{var o,e=a(s);switch(e){case"username":o="isUsernameValid";break;case"password":o="isPasswordValid";break;case"email":o="isEmailValid";break;case"dateofbirth":o="isDateValid";break;case"letters":o="isLetters";break;case"numbers":o="isNumbers";break;case"postcode":o="isPostCodeValid";break;case"mobile":o="isMobileValid";break;default:o="isEmpty"}this.isValid=l(this,this[o](s),s)}return this.isValid},this.isEmpty=function(s){return!r(s).val().length},this.isLetters=function(s){var e=/^[A-Za-z ]+$/,o=e.test(r(s).val());return this.options.letters.showMatchError=o?!1:!0,o},this.isNumbers=function(s){var e=/^\d+$/,o=e.test(r(s).val());return this.options.numbers.showMatchError=o?!1:!0,o},this.isUsernameValid=function(s){var e=i(r(s).val().length,this.options.username.minLength,this.options.username.maxLength);return this.options.username.showLengthError=e?!1:!0,e},this.isPasswordValid=function(s){var o,t,e=/^(?=.*[0-9])(?=.*[a-zA-Z])([a-zA-Z0-9]+)$/;return o=i(r(s).val().length,this.options.password.minLength,this.options.password.maxLength),this.options.password.showLengthError=o?!1:!0,this.options.password.numbers&&this.options.password.letters?(t=e.test(r(s).val()),this.options.password.showMatchError=t?!1:!0,o?t:!1):o},this.isEmailValid=function(s){var o,t,e=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,a=/\s/,i=a.test(r(s).val());return i&&r(s).val(r(s).val().replace(/\s/g,"")),o=e.test(r(s).val()),this.options.email.showInvalidError=o?!1:!0,""!==this.options.email.domain?(t=-1!==r(s).val().indexOf(this.options.email.domain,r(s).val().length-this.options.email.domain.length),this.options.email.showDomainError=t?!1:!0,o?t:!1):o},this.isDateValid=function(s){var t,a,e=r(s).val(),o=e.match(/\//g);if(null===o||o.length<2)return a=!1,this.options.dateofbirth.showFormatError=a?!1:!0,a;var n=e.split("/");return a=!0,this.options.dateofbirth.showFormatError=a?!1:!0,t=i(Date.parse(n[2]+"-"+n[1]+"-"+n[0]),0,Date.now()),this.options.dateofbirth.showInvalidError=t?!1:!0,t},this.isPostCodeValid=function(s){var e,o=checkPostCode(r(s).val());return e=o?!0:!1,this.options.postcode.showInvalidError=e?!1:!0,e},this.isMobileValid=function(s){var e=this.isNumbers(s),o=r(s).val().length===this.options.mobile.numberLength;return this.options.mobile.showInvalidError=e&&o?!1:!0,e&&o?!0:!1},t.createErrorMessage=function(r,s){var o,t,e=a(s);switch(e){case"username":r.options.username.showLengthError&&(o="-username-length-error",t=r.options.username.lengthErrorMessage,m(r.formIDStr+o,s,t));break;case"password":r.options.password.showMatchError&&(o="-password-match-error",t=r.options.password.matchErrorMessage,m(r.formIDStr+o,s,t)),r.options.password.showLengthError&&(o="-password-length-error",t=r.options.password.lengthErrorMessage,m(r.formIDStr+o,s,t));break;case"email":r.options.email.showInvalidError&&(o="-email-invalid-error",t=r.options.email.invalidErrorMessage,m(r.formIDStr+o,s,t)),r.options.email.showDomainError&&(o="-email-domain-error",t=r.options.email.domainErrorMessage,m(r.formIDStr+o,s,t));break;case"letters":r.options.letters.showMatchError&&(o="-letters-match-error",t=r.options.letters.matchErrorMessage,m(r.formIDStr+o,s,t));break;case"numbers":r.options.numbers.showMatchError&&(o="-numbers-match-error",t=r.options.numbers.matchErrorMessage,m(r.formIDStr+o,s,t));break;case"dateofbirth":r.options.dateofbirth.showFormatError&&(o="-dateofbirth-format-error",t=r.options.dateofbirth.formatErrorMessage,m(r.formIDStr+o,s,t)),r.options.dateofbirth.showFormatError&&(o="-dateofbirth-invalid-error",t=r.options.dateofbirth.invalidErrorMessage,m(r.formIDStr+o,s,t));break;case"postcode":r.options.postcode.showInvalidError&&(o="-postcode-invalid-error",t=r.options.postcode.invalidErrorMessage,m(r.formIDStr+o,s,t));break;case"mobile":r.options.mobile.showInvalidError&&(o="-mobile-invalid-error",t=r.options.mobile.invalidErrorMessage,m(r.formIDStr+o,s,t))}},t.controlErrorMessages=function(r,s){var o,t,e=a(s);switch(e){case"username":o="-username-length-error",t=r.options.username.showLengthError;break;case"password":f(r.formID+"-password-length-error",r.options.password.showLengthError),f(r.formID+"-password-match-error",r.options.password.showMatchError);break;case"email":f(r.formID+"-email-invalid-error",r.options.email.showInvalidError),f(r.formID+"-email-domain-error",r.options.email.showDomainError);break;case"letters":o="-letters-match-error",t=r.options.letters.showMatchError;break;case"numbers":o="-numbers-match-error",t=r.options.numbers.showMatchError;break;case"dateofbirth":f(r.formID+"-dateofbirth-invalid-error",r.options.dateofbirth.showInvalidError),f(r.formID+"-dateofbirth-format-error",r.options.dateofbirth.showFormatError);break;case"postcode":o="-postcode-invalid-error",t=r.options.postcode.showInvalidError;break;case"mobile":o="-mobile-invalid-error",t=r.options.mobile.showInvalidError}f(r.formID+o,t)};var a=function(s){return void 0!==r(s).attr("data-field-info")?r(s).attr("data-field-info").toLowerCase():""},i=function(r,s,e){return r>=s&&e>=r},n=function(r){r&&(this.options.username.showLengthError=!1,this.options.password.showLengthError=!1,this.options.password.showMatchError=!1,this.options.email.showInvalidError=!1,this.options.email.showDomainError=!1,this.options.letters.showMatchError=!1,this.options.numbers.showMatchError=!1,this.options.dateofbirth.showInvalidError=!1,this.options.dateofbirth.showFormatError=!1,this.options.postcode.showInvalidError=!1,this.options.mobile.showInvalidError=!1)},l=function(r,s,e){return s?h(r,e):d(r,e)},h=function(s,e){return r(e).removeClass("invalid"),t.controlErrorMessages(s,e),!0},d=function(s,e){return r(e).addClass("invalid"),t.controlErrorMessages(s,e),!1},m=function(s,e,o){r(e).after('<div id="'+s+'" class="form-error"></div>'),r("#"+s).append(o)},f=function(s,e){e?r(s).show():r(s).hide()}},r.fn.isValid=function(s){return this.each(function(){var e=new r.isValid(this,s);r(this).data("isValid",e),e.init(),r(e.formID+' :input[type="submit"]').click(function(r){e.formArray.each(function(s,o){e.isValid=e.isValidField(o),e.isFormValid=e.isFormValidated(),e.isFormValid||r.preventDefault()}),e.isFormValid?e.options.onFormValidated():e.options.onFormInValidated()}),e.formArray.each(function(s,o){r(o).blur(function(){e.isValid=e.isValidField(o)})}),e.$elem.find(":reset").click(function(){r(e.formID+" .invalid").removeClass("invalid"),r(e.formID+" .form-error").hide(),e.isFormValid=e.isFormValidated()})})}}(jQuery);