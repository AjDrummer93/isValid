/*! jquery.isValid 2014-07-11 */
!function(a){"use strict";a.isValid=function(b,c){var d,e={username:{minLength:6,maxLength:12,showLengthError:!0,lengthErrorMessage:"Username must be be at least 6 character long.",showMaxLengthError:!0,maxLengthErrorMessage:"Username must be no more than 12 characters long."},password:{minLength:6,maxLength:20,numbers:!0,letters:!0,showLengthError:!0,lengthErrorMessage:"Password must be at least 6 characters long.",showMaxLengthError:!0,maxLengthErrorMessage:"Username must be no more than 20 characters long.",showMatchError:!0,matchErrorMessage:"Password must contain letters and numbers."},email:{domain:"",showInvalidError:!0,invalidErrorMessage:"Email is an invalid email address.",showDomainError:!1,domainErrorMessage:"Email domain entered is invalid, only @xxxx.xxx is accepted."},letters:{showMatchError:!0,matchErrorMessage:"Field is letters only."},numbers:{showMatchError:!0,matchErrorMessage:"Field is numbers only."},dateofbirth:{showInvalidError:!0,invalidErrorMessage:"Please enter a valid Date.",showFormatError:!0,formatErrorMessage:"Please enter Date format as DD/MM/YYYY as specified in the placeholder."},postcode:{showInvalidError:!0,invalidErrorMessage:"Not a valid Post Code."},onFormValidated:function(){},onFormInValidated:function(){}};d=this,this.options,this.init=function(){var f=this;return this.elem=b,this.$elem=a(b),this.isFormValid=!1,this.isValid=!1,this.formID="#"+this.$elem.attr("id"),this.formIDStr=this.$elem.attr("id"),this.options=a.extend(!0,e,c),this.formArray=a(this.formID+' :input[type="text"],'+this.formID+' :input[type="password"],'+this.formID+' :input[type="tel"],'+this.formID+" textarea,"+this.formID+" select"),this.formArray.each(function(a,b){d.createErrorMessage(f,b)}),this},this.isFormValidated=function(){return a(".invalid").length?!1:!0},this.isValidField=function(b){if(b.disabled||"notrequired"===a(b).attr("data-field-info"))this.isValid=!0;else{var c,d=f(b);switch(d){case"username":c="isUsernameValid";break;case"password":c="isPasswordValid";break;case"email":c="isEmailValid";break;case"dateofbirth":c="isDateOfBirthValid";break;case"letters":c="isLetters";break;case"numbers":c="isNumbers";break;case"postcode":c="isPostCodeValid";break;default:c="isEmpty"}}return this.isValid=h(this,this[c](b),b),this.isValid},this.isEmpty=function(b){return a(b).val().length},this.isLetters=function(b){var c=/^[A-Za-z ]+$/,d=c.test(a(b).val());return this.options.letters.showMatchError=d?!1:!0,d},this.isNumbers=function(b){var c=/^[+-]?[0-9]{1,9}(?:\.[0-9]{1,2})?$/,d=c.test(a(b).val());return this.options.numbers.showMatchError=d?!1:!0,d},this.isUsernameValid=function(b){var c=g(a(b).val().length,this.options.username.minLength,this.options.username.maxLength);return this.options.username.showLengthError=c?!1:!0,c},this.isPasswordValid=function(b){var c,d,e=/^(?=.*[0-9])(?=.*[a-zA-Z])([a-zA-Z0-9]+)$/;return c=g(a(b).val().length,this.options.password.minLength,this.options.password.maxLength),this.options.password.showLengthError=c?!1:!0,this.options.password.numbers&&this.options.password.letters?(d=e.test(a(b).val()),this.options.password.showMatchError=d?!1:!0,c?d:!1):c},this.isEmailValid=function(b){var c,d,e=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return c=e.test(a(b).val()),this.options.email.showInvalidError=c?!1:!0,""!==this.options.email.domain?(d=-1!==a(b).val().indexOf(this.options.email.domain,a(b).val().length-this.options.email.domain.length),this.options.email.showDomainError=d?!1:!0,c?d:!1):c},this.isDateOfBirthValid=function(b){var c,d,e=a(b).val(),f=e.match(/\//g);if(null===f||f.length<2)return d=!1,this.options.dateofbirth.showFormatError=d?!1:!0,d;var h=e.split("/");return d=!0,this.options.dateofbirth.showFormatError=d?!1:!0,c=g(Date.parse(h[2]+"-"+h[1]+"-"+h[0]),0,Date.now()),this.options.dateofbirth.showInvalidError=c?!1:!0,c},this.isPostCodeValid=function(b){var c=checkPostCode(a(b).val());return this.options.postcode.showInvalidError=c?!1:!0,c},d.createErrorMessage=function(a,b){var c,d,e=f(b);switch(e){case"username":a.options.username.showLengthError&&(c="-username-length-error",d=a.options.username.lengthErrorMessage);break;case"password":a.options.password.showMatchError&&(c="-password-match-error",d=a.options.password.matchErrorMessage,k(a.formIDStr+c,b,d)),a.options.password.showLengthError&&(c="-password-length-error",d=a.options.password.lengthErrorMessage,k(a.formIDStr+c,b,d));break;case"email":a.options.email.showInvalidError&&(c="-email-invalid-error",d=a.options.email.invalidErrorMessage,k(a.formIDStr+c,b,d)),a.options.email.showDomainError&&(c="-email-domain-error",d=a.options.email.domainErrorMessage,k(a.formIDStr+c,b,d));break;case"letters":a.options.letters.showMatchError&&(c="-letters-match-error",d=a.options.letters.matchErrorMessage);break;case"numbers":a.options.numbers.showMatchError&&(c="-numbers-match-error",d=a.options.numbers.matchErrorMessage);break;case"dateofbirth":a.options.dateofbirth.showFormatError&&(c="-dateofbirth-format-error",d=a.options.dateofbirth.formatErrorMessage,k(a.formIDStr+c,b,d)),a.options.dateofbirth.showFormatError&&(c="-dateofbirth-invalid-error",d=a.options.dateofbirth.invalidErrorMessage,k(a.formIDStr+c,b,d));break;case"postcode":a.options.postcode.showInvalidError&&(c="-postcode-invalid-error",d=a.options.postcode.invalidErrorMessage)}k(a.formIDStr+c,b,d)},d.controlErrorMessages=function(a,b){var c,d,e=f(b);switch(e){case"username":c="-username-length-error",d=a.options.username.showLengthError;break;case"password":l(a.formID+"-password-length-error",a.options.password.showLengthError),l(a.formID+"-password-match-error",a.options.password.showMatchError);break;case"email":l(a.formID+"-email-invalid-error",a.options.email.showInvalidError),l(a.formID+"-email-domain-error",a.options.email.showDomainError);break;case"letters":c="-letters-match-error",d=a.options.letters.showMatchError;break;case"numbers":c="-numbers-match-error",d=a.options.numbers.showMatchError;break;case"dateofbirth":l(a.formID+"-dateofbirth-invalid-error",a.options.dateofbirth.showInvalidError),l(a.formID+"-dateofbirth-format-error",a.options.dateofbirth.showFormatError);break;case"postcode":c="-postcode-invalid-error",d=a.options.postcode.showInvalidError}l(a.formID+c,d)};var f=function(b){return void 0!==a(b).attr("data-field-info")?a(b).attr("data-field-info").toLowerCase():""},g=function(a,b,c){return a>=b&&c>=a},h=function(a,b,c){return b?i(a,c):j(a,c)},i=function(b,c){return a(c).removeClass("invalid"),d.controlErrorMessages(b,c),!0},j=function(b,c){return a(c).addClass("invalid"),d.controlErrorMessages(b,c),!1},k=function(b,c,d){a(c).after('<div id="'+b+'" class="form-error"></div>'),a("#"+b).append(d)},l=function(b,c){c?a(b).show():a(b).hide()}},a.fn.isValid=function(b){return this.each(function(){var c=new a.isValid(this,b);a(this).data("isValid",c),c.init(),a(c.formID+' :input[type="submit"]').click(function(a){c.formArray.each(function(b,d){c.isValid=c.isValidField(d),c.isFormValid=c.isFormValidated(),c.isFormValid||a.preventDefault()}),c.isFormValid?c.options.onFormValidated():c.options.onFormInValidated()}),c.formArray.each(function(b,d){a(d).blur(function(){c.isValid=c.isValidField(d)})}),c.$elem.find(":reset").click(function(){a(".invalid").removeClass("invalid"),a(".form-error").hide(),c.isFormValid=c.isFormValidated()})})}}(jQuery);