function checkPostCode(r){var e="[abcdefghijklmnoprstuwyz]",s="[abcdefghklmnopqrstuvwxy]",o="[abcdefghjkpmnrstuvwxy]",a="[abehmnprvwxy]",i="[abdefghjlnpqrstuwxyz]",t="[abdefghjlnpqrst]",n="[abdefghjlnpqrstuwzyz]",l=new Array;l.push(new RegExp("^(bf1)(\\s*)([0-6]{1}"+t+"{1}"+n+"{1})$","i")),l.push(new RegExp("^("+e+"{1}"+s+"?[0-9]{1,2})(\\s*)([0-9]{1}"+i+"{2})$","i")),l.push(new RegExp("^("+e+"{1}[0-9]{1}"+o+"{1})(\\s*)([0-9]{1}"+i+"{2})$","i")),l.push(new RegExp("^("+e+"{1}"+s+"{1}?[0-9]{1}"+a+"{1})(\\s*)([0-9]{1}"+i+"{2})$","i")),l.push(/^(GIR)(\s*)(0AA)$/i),l.push(/^(bfpo)(\s*)([0-9]{1,4})$/i),l.push(/^(bfpo)(\s*)(c\/o\s*[0-9]{1,3})$/i),l.push(/^([A-Z]{4})(\s*)(1ZZ)$/i),l.push(/^(ai-2640)$/i);for(var d=r,h=!1,m=0;m<l.length;m++)if(l[m].test(d)){l[m].exec(d),d=RegExp.$1.toUpperCase()+" "+RegExp.$3.toUpperCase(),d=d.replace(/C\/O\s*/,"c/o "),"AI-2640"==r.toUpperCase()&&(d="AI-2640"),h=!0;break}return h?d:!1}!function(r){"use strict";r.isValid=function(e,s){var o={username:{minLength:6,maxLength:12,showLengthError:!0,lengthErrorMessage:"Username must be be at least 6 characters and no more than 12 characters.",errorDetails:new Array},password:{minLength:6,maxLength:20,numbers:!0,letters:!0,showLengthError:!0,lengthErrorMessage:"Password must be at least 6 characters and no more than 20 characters.",showInvalidError:!0,invalidErrorMessage:"Password must contain letters and numbers.",errorDetails:new Array},email:{domain:"",showInvalidError:!0,invalidErrorMessage:"Email is an invalid email address.",showDomainError:!1,domainErrorMessage:"Email domain entered is invalid, only @xxxx.xxx is accepted.",errorDetails:new Array},letters:{showInvalidError:!0,invalidErrorMessage:"Field is letters only.",errorDetails:new Array},numbers:{showInvalidError:!0,invalidErrorMessage:"Field is numbers only.",errorDetails:new Array},date:{showInvalidError:!0,invalidErrorMessage:"Please enter a valid Date.",showFormatError:!0,formatErrorMessage:"Please enter Date format as DD/MM/YYYY as specified in the placeholder.",errorDetails:new Array},postcode:{showInvalidError:!0,invalidErrorMessage:"Not a valid Post Code.",errorDetails:new Array},mobile:{showInvalidError:!0,numberLength:11,invalidErrorMessage:"Invalid mobile number.",errorDetails:new Array},turnOffErrors:!1,onFormValidated:function(){},onFormInValidated:function(){}};this.options,this.init=function(){return self=this,this.elem=e,this.$elem=r(e),this.isFormValid=!1,this.isValid=!1,this.formID="#"+this.$elem.attr("id"),this.formIDStr=this.$elem.attr("id"),this.options=r.extend(!0,o,s),t(this.options.turnOffErrors),this.formArray=r(this.formID+' :input[type="text"],'+this.formID+' :input[type="password"],'+this.formID+' :input[type="tel"],'+this.formID+" textarea,"+this.formID+" select"),this.formArray.each(function(r,e){self.createErrorMessage(self,e)}),this},this.isFormValidated=function(){return r(this.formID+" .invalid").length?!1:!0},this.isValidField=function(e){if(e.disabled||"notrequired"===r(e).attr("data-field-info"))this.isValid=!0;else{var o,s=a(e);switch(s){case"username":o="isUsernameValid";break;case"password":o="isPasswordValid";break;case"email":o="isEmailValid";break;case"date":o="isDateValid";break;case"letters":o="isLetters";break;case"numbers":o="isNumbers";break;case"postcode":o="isPostCodeValid";break;case"mobile":o="isMobileValid";break;default:o="isEmpty"}this.isValid=n(this,this[o](e),e)}return this.isValid},this.isEmpty=function(e){return!r(e).val().length},this.isLetters=function(e){var s=/^[A-Za-z ]+$/,o=s.test(r(e).val());return this.options.letters.showInvalidError=o?!1:!0,o},this.isNumbers=function(e){var s=/^\d+$/,o=s.test(r(e).val());return this.options.numbers.showInvalidError=o?!1:!0,o},this.isUsernameValid=function(e){var s=i(r(e).val().length,this.options.username.minLength,this.options.username.maxLength);return this.options.username.showLengthError=s?!1:!0,s},this.isPasswordValid=function(e){var o,a,s=/^(?=.*[0-9])(?=.*[a-zA-Z])([a-zA-Z0-9]+)$/;return o=i(r(e).val().length,this.options.password.minLength,this.options.password.maxLength),this.options.password.showLengthError=o?!1:!0,this.options.password.numbers&&this.options.password.letters?(a=s.test(r(e).val()),this.options.password.showInvalidError=a?!1:!0,o?a:!1):o},this.isEmailValid=function(e){var o,a,s=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,i=/\s/,t=i.test(r(e).val());return t&&r(e).val(r(e).val().replace(/\s/g,"")),o=s.test(r(e).val()),this.options.email.showInvalidError=o?!1:!0,""!==this.options.email.domain?(a=-1!==r(e).val().indexOf(this.options.email.domain,r(e).val().length-this.options.email.domain.length),this.options.email.showDomainError=a?!1:!0,o?a:!1):o},this.isDateValid=function(e){var a,t,s=r(e).val(),o=s.match(/\//g);if(null===o||o.length<2)return t=!1,this.options.date.showFormatError=t?!1:!0,t;var n=s.split("/");return t=!0,this.options.date.showFormatError=t?!1:!0,a=i(Date.parse(n[2]+"-"+n[1]+"-"+n[0]),0,Date.now()),this.options.date.showInvalidError=a?!1:!0,a},this.isPostCodeValid=function(e){var s,o=checkPostCode(r(e).val());return s=o?!0:!1,this.options.postcode.showInvalidError=s?!1:!0,s},this.isMobileValid=function(e){var s=this.isNumbers(e),o=r(e).val().length===this.options.mobile.numberLength;return this.options.mobile.showInvalidError=s&&o?!1:!0,s&&o?!0:!1},this.createErrorMessage=function(r,e){var t,s=a(e);switch(s){case"username":t=new ErrorDetails(r.formIDStr+"-username-length-error",r.options.username.showLengthError,r.options.username.lengthErrorMessage),r.options.username.errorDetails.push(t),h(t,e);break;case"password":t=new ErrorDetails(r.formIDStr+"-password-invalid-error",r.options.password.showInvalidError,r.options.password.invalidErrorMessage),r.options.password.errorDetails.push(t),h(t,e),t=new ErrorDetails(r.formIDStr+"-password-length-error",r.options.password.showLengthError,r.options.password.lengthErrorMessage),r.options.password.errorDetails.push(t),h(t,e);break;case"email":t=new ErrorDetails(r.formIDStr+"-email-invalid-error",r.options.email.showInvalidError,r.options.email.invalidErrorMessage),r.options.email.errorDetails.push(t),h(t,e),t=new ErrorDetails(r.formIDStr+"-email-domain-error",r.options.email.showDomainError,r.options.email.domainErrorMessage),r.options.email.errorDetails.push(t),h(t,e);break;case"letters":t=new ErrorDetails(r.formIDStr+"-letters-invalid-error",r.options.letters.showInvalidError,r.options.letters.invalidErrorMessage),r.options.letters.errorDetails.push(t),h(t,e);break;case"numbers":t=new ErrorDetails(r.formIDStr+"-numbers-invalid-error",r.options.numbers.showInvalidError,r.options.numbers.invalidErrorMessage),r.options.numbers.errorDetails.push(t),h(t,e);break;case"date":t=new ErrorDetails(r.formIDStr+"-date-format-error",r.options.date.showFormatError,r.options.date.formatErrorMessage),r.options.date.errorDetails.push(t),h(t,e),t=new ErrorDetails(r.formIDStr+"-date-invalid-error",r.options.date.showInvalidError,r.options.date.invalidErrorMessage),r.options.email.errorDetails.push(t),h(t,e);break;case"postcode":t=new ErrorDetails(r.formIDStr+"-postcode-invalid-error",r.options.date.showInvalidError,r.options.date.invalidErrorMessage),r.options.postcode.errorDetails.push(t),h(t,e);break;case"mobile":t=new ErrorDetails(r.formIDStr+"-mobile-invalid-error",r.options.mobile.showInvalidError,r.options.mobile.invalidErrorMessage),r.options.mobile.errorDetails.push(t),h(t,e)}},this.controlErrorMessages=function(r,e){var o,i,s=a(e);switch(s){case"username":o="-username-length-error",i=r.options.username.showLengthError;break;case"password":p(r.formID+"-password-length-error",r.options.password.showLengthError),p(r.formID+"-password-invalid-error",r.options.password.showInvalidError);break;case"email":p(r.formID+"-email-invalid-error",r.options.email.showInvalidError),p(r.formID+"-email-domain-error",r.options.email.showDomainError);break;case"letters":o="-letters-invalid-error",i=r.options.letters.showInvalidError;break;case"numbers":o="-numbers-invalid-error",i=r.options.numbers.showInvalidError;break;case"date":p(r.formID+"-date-invalid-error",r.options.date.showInvalidError),p(r.formID+"-date-format-error",r.options.date.showFormatError);break;case"postcode":o="-postcode-invalid-error",i=r.options.postcode.showInvalidError;break;case"mobile":o="-mobile-invalid-error",i=r.options.mobile.showInvalidError}p(r.formID+o,i)};var a=function(e){return void 0!==r(e).attr("data-field-info")?r(e).attr("data-field-info").toLowerCase():""},i=function(r,e,s){return r>=e&&s>=r},t=function(r){r&&(this.options.username.showLengthError=!1,this.options.password.showLengthError=!1,this.options.password.showInvalidError=!1,this.options.email.showInvalidError=!1,this.options.email.showDomainError=!1,this.options.letters.showInvalidError=!1,this.options.numbers.showInvalidError=!1,this.options.date.showInvalidError=!1,this.options.date.showFormatError=!1,this.options.postcode.showInvalidError=!1,this.options.mobile.showInvalidError=!1)},n=function(r,e,s){return e?l(r,s):d(r,s)},l=function(e,s){return r(s).removeClass("invalid"),self.controlErrorMessages(e,s),!0},d=function(e,s){return r(s).addClass("invalid"),self.controlErrorMessages(e,s),!1},h=function(e,s){e.show&&(r(s).after('<div id="'+e.id+'" class="form-error"></div>'),r(e.hashId).append(e.message))},p=function(e,s){s?r(e).show():r(e).hide()}},r.fn.isValid=function(e){return this.each(function(){var s=new r.isValid(this,e);r(this).data("isValid",s),s.init(),r(s.formID+' :input[type="submit"]').click(function(r){s.formArray.each(function(e,o){s.isValid=s.isValidField(o),s.isFormValid=s.isFormValidated(),s.isFormValid||r.preventDefault()}),s.isFormValid?s.options.onFormValidated():s.options.onFormInValidated()}),s.formArray.each(function(e,o){r(o).blur(function(){s.isValid=s.isValidField(o)})}),s.$elem.find(":reset").click(function(){r(s.formID+" .invalid").removeClass("invalid"),r(s.formID+" .form-error").hide(),s.isFormValid=s.isFormValidated()})})}}(jQuery);