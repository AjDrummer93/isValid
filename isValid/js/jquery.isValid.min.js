function checkPostCode(r){var s="[abcdefghijklmnoprstuwyz]",e="[abcdefghklmnopqrstuvwxy]",o="[abcdefghjkpmnrstuvwxy]",i="[abehmnprvwxy]",a="[abdefghjlnpqrstuwxyz]",t="[abdefghjlnpqrst]",n="[abdefghjlnpqrstuwzyz]",l=new Array;l.push(new RegExp("^(bf1)(\\s*)([0-6]{1}"+t+"{1}"+n+"{1})$","i")),l.push(new RegExp("^("+s+"{1}"+e+"?[0-9]{1,2})(\\s*)([0-9]{1}"+a+"{2})$","i")),l.push(new RegExp("^("+s+"{1}[0-9]{1}"+o+"{1})(\\s*)([0-9]{1}"+a+"{2})$","i")),l.push(new RegExp("^("+s+"{1}"+e+"{1}?[0-9]{1}"+i+"{1})(\\s*)([0-9]{1}"+a+"{2})$","i")),l.push(/^(GIR)(\s*)(0AA)$/i),l.push(/^(bfpo)(\s*)([0-9]{1,4})$/i),l.push(/^(bfpo)(\s*)(c\/o\s*[0-9]{1,3})$/i),l.push(/^([A-Z]{4})(\s*)(1ZZ)$/i),l.push(/^(ai-2640)$/i);for(var d=r,h=!1,m=0;m<l.length;m++)if(l[m].test(d)){l[m].exec(d),d=RegExp.$1.toUpperCase()+" "+RegExp.$3.toUpperCase(),d=d.replace(/C\/O\s*/,"c/o "),"AI-2640"==r.toUpperCase()&&(d="AI-2640"),h=!0;break}return h?d:!1}!function(r){"use strict";r.isValid=function(s,e){var i,o={username:{minLength:6,maxLength:12,showLengthError:!0,lengthErrorMessage:"Username must be be at least 6 characters and no more than 12 characters."},password:{minLength:6,maxLength:20,numbers:!0,letters:!0,showLengthError:!0,lengthErrorMessage:"Password must be at least 6 characters and no more than 20 characters.",showInvalidError:!0,invalidErrorMessage:"Password must contain letters and numbers.",passwordConfirm:!0},passwordConfirm:{showInvalidError:!0,invalidErrorMessage:"Passwords do not match."},email:{domain:"",showInvalidError:!0,invalidErrorMessage:"Email is an invalid email address.",showDomainError:!1,domainErrorMessage:"Email domain entered is invalid, only @xxxx.xxx is accepted.",emailConfirm:!0},emailConfirm:{showInvalidError:!0,invalidErrorMessage:"Emails do not match."},letters:{showInvalidError:!0,invalidErrorMessage:"Field is letters only."},numbers:{showInvalidError:!0,invalidErrorMessage:"Field is numbers only."},date:{showInvalidError:!0,invalidErrorMessage:"Please enter a valid Date.",showFormatError:!0,formatErrorMessage:"Please enter Date format as DD/MM/YYYY as specified in the placeholder."},postcode:{showInvalidError:!0,invalidErrorMessage:"Not a valid Post Code."},mobile:{showInvalidError:!0,numberLength:11,invalidErrorMessage:"Invalid mobile number."},checkbox:{showInvalidError:!0,invalidErrorMessage:"Checkbox must be checked."},select:{showInvalidError:!0,invalidErrorMessage:"Please choose an item from the dropdown."},turnOffErrors:!1,onFormValidated:function(){},onFormInValidated:function(){}};i=this,this.options,this.init=function(){var a=this;return this.elem=s,this.$elem=r(s),this.isFormValid=!1,this.isValid=!1,this.formID="#"+this.$elem.attr("id"),this.formIDStr=this.$elem.attr("id"),this.options=r.extend(!0,o,e),n(this.options.turnOffErrors),this.formArray=r(this.formID+' :input[type="text"],'+this.formID+' :input[type="email"],'+this.formID+' :input[type="password"],'+this.formID+' :input[type="tel"],'+this.formID+' :input[type="number"],'+this.formID+' :input[type="date"],'+this.formID+' :input[type="checkbox"],'+this.formID+" textarea,"+this.formID+" select"),this.formArray.each(function(r,s){i.createErrorMessage(a,s)}),this},this.isFormValidated=function(){return r(this.formID+" .invalid").length?!1:!0},this.isValidField=function(s){if(s.disabled||"notrequired"===r(s).attr("data-field-info"))this.isValid=!0;else{var o,e=a(s);switch(e){case"username":o="isUsernameValid";break;case"password":o="isPasswordValid";break;case"passwordconfirm":o="isPasswordConfirmValid";break;case"email":o="isEmailValid";break;case"emailconfirm":o="isEmailConfirmValid";break;case"date":o="isDateValid";break;case"letters":o="isLetters";break;case"numbers":o="isNumbers";break;case"postcode":o="isPostCodeValid";break;case"mobile":o="isMobileValid";break;case"checkbox":o="isCheckboxTicked";break;case"select":o="isSelectChosen";break;default:o="isEmpty"}this.isValid=l(this,this[o](s),s)}return this.isValid},this.isEmpty=function(s){return r(s).val().length},this.isLetters=function(s){var e=/^[A-Za-z ]+$/,o=e.test(r(s).val());return this.options.letters.showInvalidError=o?!1:!0,o},this.isNumbers=function(s){var e=/^\d+$/,o=e.test(r(s).val());return this.options.numbers.showInvalidError=o?!1:!0,o},this.isUsernameValid=function(s){var e=t(r(s).val().length,this.options.username.minLength,this.options.username.maxLength);return this.options.username.showLengthError=e?!1:!0,e},this.isPasswordValid=function(s){var o,i,e=/^(?=.*[0-9])(?=.*[a-zA-Z])([a-zA-Z0-9]+)$/;return o=t(r(s).val().length,this.options.password.minLength,this.options.password.maxLength),this.options.password.showLengthError=o?!1:!0,this.options.password.numbers&&this.options.password.letters?(i=e.test(r(s).val()),this.options.password.showInvalidError=i?!1:!0,this.isPasswordConfirmValid(r("input[data-field-info='passwordconfirm']")),o?i:!1):o},this.isPasswordConfirmValid=function(s){return this.options.password.passwordConfirm?r(s).val()!==r("input[data-field-info='password']").val()?(this.options.passwordConfirm.showInvalidError=!0,!1):(this.options.passwordConfirm.showInvalidError=!1,!0):void 0},this.isEmailValid=function(s){var o,i,e=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/,a=/\s/,t=a.test(r(s).val());return t&&r(s).val(r(s).val().replace(/\s/g,"")),o=e.test(r(s).val()),this.options.email.showInvalidError=o?!1:!0,""!==this.options.email.domain?(i=-1!==r(s).val().indexOf(this.options.email.domain,r(s).val().length-this.options.email.domain.length),this.options.email.showDomainError=i?!1:!0,o?i:!1):(this.isEmailConfirmValid(r("input[data-field-info='emailconfirm']")),o)},this.isEmailConfirmValid=function(s){return this.options.email.emailConfirm?r(s).val()!==r("input[data-field-info='email']").val()?(this.options.emailConfirm.showInvalidError=!0,!1):(this.options.emailConfirm.showInvalidError=!1,!0):void 0},this.isDateValid=function(s){var i,a,e=r(s).val(),o=e.match(/\//g);if(null===o||o.length<2)return a=!1,this.options.date.showFormatError=a?!1:!0,a;var n=e.split("/");return a=!0,this.options.date.showFormatError=a?!1:!0,i=t(Date.parse(n[2]+"-"+n[1]+"-"+n[0]),0,Date.now()),this.options.date.showInvalidError=i?!1:!0,i},this.isPostCodeValid=function(s){var e,o=checkPostCode(r(s).val());return e=o?!0:!1,this.options.postcode.showInvalidError=e?!1:!0,e},this.isMobileValid=function(s){var e=this.isNumbers(s),o=r(s).val().length===this.options.mobile.numberLength;return this.options.mobile.showInvalidError=e&&o?!1:!0,e&&o?!0:!1},this.isCheckboxTicked=function(s){var e=r(s).is(":checked");return this.options.checkbox.showInvalidError=e?!1:!0,e},this.isSelectChosen=function(s){var e=null!==r(s).val();return this.options.select.showInvalidError=e?!1:!0,e},this.createErrorMessage=function(r,s){var o,i,e=a(s);switch(e){case"username":r.options.username.showLengthError&&(o="-username-length-error",i=r.options.username.lengthErrorMessage,m(r.formIDStr+o,s,i));break;case"password":r.options.password.showInvalidError&&(o="-password-match-error",i=r.options.password.invalidErrorMessage,m(r.formIDStr+o,s,i)),r.options.password.showLengthError&&(o="-password-length-error",i=r.options.password.lengthErrorMessage,m(r.formIDStr+o,s,i));break;case"passwordconfirm":r.options.passwordConfirm.showInvalidError&&(o="-passwordconfirm-invalid-error",i=r.options.passwordConfirm.invalidErrorMessage,m(r.formIDStr+o,s,i));break;case"email":r.options.email.showInvalidError&&(o="-email-invalid-error",i=r.options.email.invalidErrorMessage,m(r.formIDStr+o,s,i)),r.options.email.showDomainError&&(o="-email-domain-error",i=r.options.email.domainErrorMessage,m(r.formIDStr+o,s,i));break;case"emailconfirm":r.options.emailConfirm.showInvalidError&&(o="-emailconfirm-invalid-error",i=r.options.emailConfirm.invalidErrorMessage,m(r.formIDStr+o,s,i));break;case"letters":r.options.letters.showInvalidError&&(o="-letters-match-error",i=r.options.letters.invalidErrorMessage,m(r.formIDStr+o,s,i));break;case"numbers":r.options.numbers.showInvalidError&&(o="-numbers-match-error",i=r.options.numbers.invalidErrorMessage,m(r.formIDStr+o,s,i));break;case"date":r.options.date.showFormatError&&(o="-date-format-error",i=r.options.date.formatErrorMessage,m(r.formIDStr+o,s,i)),r.options.date.showFormatError&&(o="-date-invalid-error",i=r.options.date.invalidErrorMessage,m(r.formIDStr+o,s,i));break;case"postcode":r.options.postcode.showInvalidError&&(o="-postcode-invalid-error",i=r.options.postcode.invalidErrorMessage,m(r.formIDStr+o,s,i));break;case"mobile":r.options.mobile.showInvalidError&&(o="-mobile-invalid-error",i=r.options.mobile.invalidErrorMessage,m(r.formIDStr+o,s,i));break;case"checkbox":r.options.checkbox.showInvalidError&&(o="-checkbox-invalid-error",i=r.options.checkbox.invalidErrorMessage,m(r.formIDStr+o,s,i));break;case"select":r.options.select.showInvalidError&&(o="-select-invalid-error",i=r.options.select.invalidErrorMessage,m(r.formIDStr+o,s,i))}},this.controlErrorMessages=function(s,e){var i,t,o=a(e);switch(o){case"username":i="-username-length-error",t=s.options.username.showLengthError;break;case"password":f(s.formID+"-password-length-error",s.options.password.showLengthError),f(s.formID+"-password-match-error",s.options.password.showInvalidError),s.options.password.passwordConfirm&&(f(s.formID+"-passwordconfirm-invalid-error",s.options.passwordConfirm.showInvalidError),s.options.passwordConfirm.showInvalidError?h(s,r("input[data-field-info='passwordconfirm']")):d(s,r("input[data-field-info='passwordconfirm']")));break;case"passwordconfirm":f(s.formID+"-passwordconfirm-invalid-error",s.options.passwordConfirm.showInvalidError);break;case"email":f(s.formID+"-email-invalid-error",s.options.email.showInvalidError),f(s.formID+"-email-domain-error",s.options.email.showDomainError),s.options.email.emailConfirm&&(f(s.formID+"-emailconfirm-invalid-error",s.options.emailConfirm.showInvalidError),s.options.emailConfirm.showInvalidError?h(s,r("input[data-field-info='emailconfirm']")):d(s,r("input[data-field-info='emailconfirm']")));break;case"emailconfirm":f(s.formID+"-emailconfirm-invalid-error",s.options.emailConfirm.showInvalidError);break;case"letters":i="-letters-match-error",t=s.options.letters.showInvalidError;break;case"numbers":i="-numbers-match-error",t=s.options.numbers.showInvalidError;break;case"date":f(s.formID+"-date-invalid-error",s.options.date.showInvalidError),f(s.formID+"-date-format-error",s.options.date.showFormatError);break;case"postcode":i="-postcode-invalid-error",t=s.options.postcode.showInvalidError;break;case"mobile":i="-mobile-invalid-error",t=s.options.mobile.showInvalidError;break;case"checkbox":i="-checkbox-invalid-error",t=s.options.checkbox.showInvalidError;break;case"select":i="-select-invalid-error",t=s.options.select.showInvalidError}f(s.formID+i,t)};var a=function(s){return void 0!==r(s).attr("data-field-info")?r(s).attr("data-field-info").toLowerCase():""},t=function(r,s,e){return r>=s&&e>=r},n=function(r){r&&(this.options.username.showLengthError=!1,this.options.password.showLengthError=!1,this.options.password.showInvalidError=!1,this.options.passwordConfirm.showInvalidError=!1,this.options.email.showInvalidError=!1,this.options.email.showDomainError=!1,this.options.emailConfirm.showInvalidError=!1,this.options.letters.showInvalidError=!1,this.options.numbers.showInvalidError=!1,this.options.date.showInvalidError=!1,this.options.date.showFormatError=!1,this.options.postcode.showInvalidError=!1,this.options.mobile.showInvalidError=!1,this.options.checkbox.showInvalidError=!1,this.options.select.showInvalidError=!1)},l=function(r,s,e){return s?d(r,e):h(r,e)},d=function(s,e){return r(e).removeClass("invalid"),i.controlErrorMessages(s,e),!0},h=function(s,e){return r(e).addClass("invalid"),i.controlErrorMessages(s,e),!1},m=function(s,e,o){r(e).after('<div id="'+s+'" class="form-error"></div>'),r("#"+s).append(o)},f=function(s,e){e?r(s).show():r(s).hide()}},r.fn.isValid=function(s){return this.each(function(){var e=new r.isValid(this,s);r(this).data("isValid",e),e.init(),r(e.formID+' :input[type="submit"]').click(function(r){e.formArray.each(function(s,o){e.isValid=e.isValidField(o),e.isFormValid=e.isFormValidated(),e.isFormValid||r.preventDefault()}),e.isFormValid?e.options.onFormValidated():e.options.onFormInValidated()}),e.formArray.each(function(s,o){r(o).blur(function(){e.isValid=e.isValidField(o)})}),e.$elem.find(":reset").click(function(){r(e.formID+" .invalid").removeClass("invalid"),r(e.formID+" .form-error").hide(),e.isFormValid=e.isFormValidated()})})}}(jQuery);