!function(e){"use strict";e.isValid=function(i,s){var r;this.init=function(){r=this,this.elem=i,this.$elem=e(i),this.isFieldValid=!1,this.settings=e.extend(!0,{},e.isValid.defaults,s),this.formID="#"+this.$elem.attr("id"),this.$elem.addClass("isValid"),this.FIELD_VALIDATED="isValid.fieldValidated",this.FIELD_INVALIDATED="isValid.fieldInvalidated",this.formArray=e(' :input[type="text"], :input[type="email"], :input[type="password"], :input[type="tel"], :input[type="number"], :input[type="date"], :input[type="checkbox"], textarea, select',this.formID)},this.isFormValidated=function(){return e(" .invalid",this.formID).length?!1:!0},this.isValidField=function(e){var i=e.attr("data-field-type");if(e.prop("disabled")||"hidden"==e.attr("type")||"notrequired"===i)this.isFieldValid=!0;else{var s;s=this.settings.validators[i].name?this.settings.validators[i].name:"isEmpty",this.isFieldValid=void 0!==this[s]?this[s](e):this.settings.validators[i].method(this,e)}return this.isFieldValid},this.isEmpty=function(e){return 0===e.val().length},this.isGeneralValid=function(e){var i=this.isEmpty(e);return i&&(this.settings.fieldTypes.general.activeErrorMessage=this.getErrorMessage(e,"required")),!i},this.isLetters=function(e){var i=this.isEmpty(e),s=/^[A-Za-z ]+$/.test(e.val());return this.settings.fieldTypes.letters.activeErrorMessage=i?this.getErrorMessage(e,"required"):s?"":this.getErrorMessage(e,"invalid"),!i&&s},this.isNumbers=function(e){var i=this.isEmpty(e),s=/^[0-9 ]+$/.test(e.val());return this.settings.fieldTypes.numbers.activeErrorMessage=i?this.getErrorMessage(e,"required"):s?"":this.getErrorMessage(e,"invalid"),!i&&s},this.isAgeValid=function(e){var i=this.isEmpty(e),s=/^[0-9 ]+$/.test(e.val())&&e.val()>0&&e.val()<150;return this.settings.fieldTypes.age.activeErrorMessage=i?this.getErrorMessage(e,"required"):s?"":this.getErrorMessage(e,"invalid"),!i&&s},this.isDecimals=function(e){var i=this.isEmpty(e),s=/^(\d+\.?\d*|\.\d+)$/.test(e.val());return this.settings.fieldTypes.decimals.activeErrorMessage=i?this.getErrorMessage(e,"required"):s?"":this.getErrorMessage(e,"invalid"),!i&&s},this.isPasswordValid=function(i){var s,r,a=/^(?=.*[0-9])(?=.*[a-zA-Z])([a-zA-Z0-9]+)$/,n=!0;return s=this.isEmpty(i),r=t(i.val().length,this.settings.fieldTypes.password.minLength,this.settings.fieldTypes.password.maxLength),this.settings.fieldTypes.password.numbers&&this.settings.fieldTypes.password.letters&&(n=a.test(i.val())),this.settings.fieldTypes.password.passwordConfirm&&this.isPasswordConfirmValid(e(' input[data-field-type="passwordConfirm"]',this.formID)),this.settings.fieldTypes.password.activeErrorMessage=s?this.getErrorMessage(i,"required"):r&&!n?this.getErrorMessage(i,"format"):this.getErrorMessage(i,"invalid"),r&&!s?n:!1},this.isPasswordConfirmValid=function(i){var s=this.isEmpty(i),r=i.val()===e(' input[data-field-type="password"]',this.formID).val();return this.settings.fieldTypes.passwordConfirm.activeErrorMessage=s?this.getErrorMessage(i,"required"):r?"":this.getErrorMessage(i,"invalid"),!s&&r},this.isEmailValid=function(i){var s,r,t=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/,a=!0;s=this.isEmpty(i);var n=/\s/.test(i.val());if(n&&i.val(i.val().replace(/\s/g,"")),r=t.test(i.val()),""!==this.settings.fieldTypes.email.domain){var o=new RegExp("@"+this.settings.fieldTypes.email.domain+"$","g");a=o.test(i.val())}return this.settings.fieldTypes.email.emailConfirm&&this.isEmailConfirmValid(e(' input[data-field-type="emailConfirm"]',this.formID)),this.settings.fieldTypes.email.activeErrorMessage=s?this.getErrorMessage(i,"required"):r&&!a?this.getErrorMessage(i,"domain"):this.getErrorMessage(i,"invalid"),r&&!s?a:!1},this.isEmailConfirmValid=function(i){var s=this.isEmpty(i),r=i.val()===e(' input[data-field-type="email"]',this.formID).val();return this.settings.fieldTypes.emailConfirm.activeErrorMessage=s?this.getErrorMessage(i,"required"):r?"":this.getErrorMessage(i,"invalid"),!s&&r},this.isDateValid=function(e){var i,s,r,a,n=e.val();i=this.isEmpty(e);var o=new moment(n,this.settings.fieldTypes.date.format,!0);return s=o.isValid(),a=0===o._pf.charsLeftOver,this.settings.fieldTypes.date.allowFutureDates||s&&(r=t(Date.parse(o._d),0,Date.now())),i?this.settings.fieldTypes.date.activeErrorMessage=this.getErrorMessage(e,"required"):s?a?r||(this.settings.fieldTypes.date.activeErrorMessage=this.getErrorMessage(e,"allowedDate")):this.settings.fieldTypes.date.activeErrorMessage=this.getErrorMessage(e,"format"):this.settings.fieldTypes.date.activeErrorMessage=a?this.getErrorMessage(e,"invalid"):1===o._pf.unusedTokens.length||2===o._pf.unusedTokens.length&&2===o._pf.charsLeftOver?this.getErrorMessage(e,"format"):this.getErrorMessage(e,"invalid"),!i&&s&&a&&r},this.isPostCodeValid=function(e){var i=this.isEmpty(e),s=checkPostCode(e.val());return this.settings.fieldTypes.postCode.activeErrorMessage=i?this.getErrorMessage(e,"required"):s?"":this.getErrorMessage(e,"invalid"),!i&&s},this.isSelectChosen=function(i){var s=!0;return null===e(i).val()?s=!1:0===i.val().length&&(s=!1),this.settings.fieldTypes.select.activeErrorMessage=s?"":this.getErrorMessage(i,"required"),s},this.isCheckboxTicked=function(e){var i=e.is(":checked");return this.settings.fieldTypes.checkbox.activeErrorMessage=i?"":this.getErrorMessage(e,"required"),i},this.getErrorMessage=function(e,i){var s=e.data(),t=l[i];return void 0!==s[t]?s[t]:r.settings.fieldTypes[e.data().fieldType][t]},this.showErrorFor=function(e){if(this.settings.enableErrorMessages)if(e.siblings(".form-error").length)o(e);else{var i=a(e),s=d(e);n(i,s,e)}e.addClass("invalid"),e.trigger(r.FIELD_INVALIDATED)},this.hideErrorFor=function(e){e.removeClass("invalid"),e.siblings(".form-error").remove(),e.trigger(r.FIELD_VALIDATED)};var t=function(e,i,s){return e>=i&&s>=e},a=function(e){var i=r.settings.fieldTypes[e.data().fieldType].activeErrorMessage;return'<div class="form-error">'+i+"</div>"},n=function(e,i,s){s.parent().append(e),s.siblings(".form-error").css("width",i+"px").css("margin-left",s.position().left+"px")},o=function(e){var i=r.settings.fieldTypes[e.data().fieldType].activeErrorMessage;e.siblings(".form-error").text(i)},d=function(i){return void 0===i.attr("aria-hidden")&&i.is(":visible")?i.outerWidth():Math.max.apply(Math,i.parent().children().map(function(){return e(this).width()}).get())},l={required:"requiredErrorMessage",invalid:"invalidErrorMessage",format:"formatErrorMessage",domain:"domainErrorMessage",allowedDate:"allowedDateErrorMessage"}},e.fn.isValid=function(i){return this.each(function(){var s=new e.isValid(this,i);e(this).data("isValid",s),s.init();var r=e(' :input[type="submit"]',s.formID);r.click(function(i){s.formArray.each(function(r,t){s.isValidField(e(t))?s.hideErrorFor(e(t)):s.showErrorFor(e(t)),s.isFormValid=s.isFormValidated(),s.isFormValid||i.preventDefault()})}),s.formArray.each(function(i,r){s.settings.validateOnBlur&&e(r).on("blur change",function(){s.isValidField(e(r))?s.hideErrorFor(e(r)):s.showErrorFor(e(r))}),e(r).on(s.FIELD_INVALIDATED,function(i){var t={isValid:!1,fieldElement:e(i.currentTarget),fieldData:e(i.currentTarget).data()};s.settings.fieldTypes[e(r).data().fieldType].callbacks.onInvalidated(t)}),e(r).on(s.FIELD_VALIDATED,function(i){var t={isValid:!0,fieldElement:e(i.currentTarget),fieldData:e(i.currentTarget).data()};s.settings.fieldTypes[e(r).data().fieldType].callbacks.onValidated(t)})})})},e.isValid.defaults={fieldTypes:{general:{activeErrorMessage:"",requiredErrorMessage:"Field is required",callbacks:{onValidated:function(e){},onInvalidated:function(e){}}},letters:{activeErrorMessage:"",requiredErrorMessage:"Field is required",invalidErrorMessage:"Field is letters only",callbacks:{onValidated:function(e){},onInvalidated:function(e){}}},numbers:{activeErrorMessage:"",requiredErrorMessage:"Field is required",invalidErrorMessage:"Field is numbers only",callbacks:{onValidated:function(e){},onInvalidated:function(e){}}},age:{activeErrorMessage:"",requiredErrorMessage:"Field is required",invalidErrorMessage:"Age is invalid",callbacks:{onValidated:function(e){},onInvalidated:function(e){}}},decimals:{activeErrorMessage:"",requiredErrorMessage:"Field is required",invalidErrorMessage:"Field is decimals only",callbacks:{onValidated:function(e){},onInvalidated:function(e){}}},password:{minLength:6,maxLength:100,numbers:!1,letters:!0,passwordConfirm:!1,activeErrorMessage:"",requiredErrorMessage:"Password is required",formatErrorMessage:"Password should contain numbers and letters",invalidErrorMessage:"Password should be more than 6 characters",callbacks:{onValidated:function(e){},onInvalidated:function(e){}}},passwordConfirm:{activeErrorMessage:"",requiredErrorMessage:"Confirming your Password is required",invalidErrorMessage:"Passwords do not match",callbacks:{onValidated:function(e){},onInvalidated:function(e){}}},email:{domain:"",emailConfirm:!1,activeErrorMessage:"",requiredErrorMessage:"Email is required",domainErrorMessage:"Email domain should be @xxxx.com",invalidErrorMessage:"Please enter a valid email address",callbacks:{onValidated:function(e){},onInvalidated:function(e){}}},emailConfirm:{activeErrorMessage:"",requiredErrorMessage:"Confirming your Email is required",invalidErrorMessage:"Email addresses do not match",callbacks:{onValidated:function(e){},onInvalidated:function(e){}}},date:{format:"DD/MM/YYYY",allowFutureDates:!0,activeErrorMessage:"",requiredErrorMessage:"Date is required",formatErrorMessage:"Date format doesn't match DD/MM/YYYY",invalidErrorMessage:"Please enter a valid Date",allowedDateErrorMessage:"Date not allowed",callbacks:{onValidated:function(e){},onInvalidated:function(e){}}},postCode:{activeErrorMessage:"",requiredErrorMessage:"Post Code is required",invalidErrorMessage:"Please enter a valid Post Code",callbacks:{onValidated:function(e){},onInvalidated:function(e){}}},select:{activeErrorMessage:"",requiredErrorMessage:"Choosing an option is required",callbacks:{onValidated:function(e){},onInvalidated:function(e){}}},checkbox:{activeErrorMessage:"",requiredErrorMessage:"Checkbox is required",callbacks:{onValidated:function(e){},onInvalidated:function(e){}}}},validateOnBlur:!0,enableErrorMessages:!0,onFormValidated:function(){},onFormInvalidated:function(){},validators:{general:{name:"isGeneralValid",method:function(){}},password:{name:"isPasswordValid",method:function(){}},passwordConfirm:{name:"isPasswordConfirmValid",method:function(){}},email:{name:"isEmailValid",method:function(){}},emailConfirm:{name:"isEmailConfirmValid",method:function(){}},date:{name:"isDateValid",method:function(){}},letters:{name:"isLetters",method:function(){}},numbers:{name:"isNumbers",method:function(){}},age:{name:"isAgeValid",method:function(){}},decimals:{name:"isDecimals",method:function(){}},postCode:{name:"isPostCodeValid",method:function(){}},checkbox:{name:"isCheckboxTicked",method:function(){}},select:{name:"isSelectChosen",method:function(){}}}}}(jQuery);var checkPostCode=function(e){var i="[abcdefghijklmnoprstuwyz]",s="[abcdefghklmnopqrstuvwxy]",r="[abcdefghjkpmnrstuvwxy]",t="[abehmnprvwxy]",a="[abdefghjlnpqrstuwxyz]",n="[abdefghjlnpqrst]",o="[abdefghjlnpqrstuwzyz]",d=[];d.push(new RegExp("^(bf1)(\\s*)([0-6]{1}"+n+"{1}"+o+"{1})$","i")),d.push(new RegExp("^("+i+"{1}"+s+"?[0-9]{1,2})(\\s*)([0-9]{1}"+a+"{2})$","i")),d.push(new RegExp("^("+i+"{1}[0-9]{1}"+r+"{1})(\\s*)([0-9]{1}"+a+"{2})$","i")),d.push(new RegExp("^("+i+"{1}"+s+"{1}?[0-9]{1}"+t+"{1})(\\s*)([0-9]{1}"+a+"{2})$","i")),d.push(/^(GIR)(\s*)(0AA)$/i),d.push(/^(bfpo)(\s*)([0-9]{1,4})$/i),d.push(/^(bfpo)(\s*)(c\/o\s*[0-9]{1,3})$/i),d.push(/^([A-Z]{4})(\s*)(1ZZ)$/i),d.push(/^(ai-2640)$/i);for(var l=e,g=!1,u=0;u<d.length;u++)if(d[u].test(l)){d[u].exec(l),l=RegExp.$1.toUpperCase()+" "+RegExp.$3.toUpperCase(),l=l.replace(/C\/O\s*/,"c/o "),"AI-2640"==e.toUpperCase()&&(l="AI-2640"),g=!0;break}return g?l:!1};